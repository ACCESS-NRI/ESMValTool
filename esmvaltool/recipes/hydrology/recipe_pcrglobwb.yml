# ESMValTool
# recipe_pcrglobwb.yml
---
documentation:
  description: |
    Recipe pre-processes ERA-Interim reanalyses files for use in the PCR-GLOBWB hydrological model.

    PCR-GLOBWB (PCRaster Global Water Balance) is a large-scale hydrological model intended for global
    to regional studies and developed at the Department of Physical Geography, Utrecht University (Netherlands).
 
  authors: ['aerts_jerom', 'andela_bouwe', 'drost_niels', 'camphuijsen_jaro', 'kalverla_peter']
  projects: ['ewatercycle']
  references: ['acknow_project', 'sutanudjaja2018gmd']

preprocessors:
  hourly_tas:
    regrid:
      target_grid: ERA5
      lon_offset: true
      lat_offset: true
      scheme: linear
    daily_statistics:
      operator: mean
  hourly_pr:
    regrid:
      target_grid: ERA5
      lon_offset: true
      lat_offset: true
      scheme: linear
    daily_statistics:
      operator: sum
  daily:
    regrid:
      target_grid: ERA5
      lon_offset: true
      lat_offset: true
      scheme: linear

diagnostics:
  diagnostic_era_interim:
    description: PCR-GLOBWB input preprocessor
    variables:
      tas: &var
        mip: day
        start_year: 2000
        end_year: 2000
        preprocessor: daily
      pr: *var
    additional_datasets:  
      - {dataset: ERA-Interim, project: OBS, tier: 3, type: reanaly, version: 1}
    scripts:
      script:
        script: hydrology/pcrglobwb.py
  diagnostic_era5:
    description: PCR-GLOBWB input preprocessor
    variables:
      tas:
        mip: hourly
        start_year: 2000
        end_year: 2000
        preprocessor: hourly_tas
      pr:
        mip: hourly
        start_year: 2000
        end_year: 2000
        preprocessor: hourly_pr
    additional_datasets:
      - {dataset: ERA5, project: OBS6, tier: 3, type: reanaly, version: 1}
    scripts:
      script:
        script: hydrology/pcrglobwb.py
