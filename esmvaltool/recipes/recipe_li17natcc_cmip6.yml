# recipe_li17natcc.yml
---
documentation:
  description: |
    Recipe for reproducing the plots in Li et al., 2017 Nature climate change

  authors:
    - weigel_katja

  references:
    - li17natcc

  projects:
    - eval4cmip

preprocessors:
  pp850:
    extract_levels:
      levels: 85000
      scheme: linear
    regrid:
      target_grid: 2x2
      scheme: linear
    extract_region:
      start_latitude: -40
      end_latitude: 40
      start_longitude: 0
      end_longitude: 360
  tropical:
    regrid:
      target_grid: 2x2
      scheme: linear
    extract_region:
      start_latitude: -40
      end_latitude: 40
      start_longitude: 0
      end_longitude: 360
  glob:
    mask_landsea:
      mask_out: land
    area_statistics:
      operator: mean

diagnostics:

  lif1f2:
    description: Diagnostic for reproducing figure 1 and 2 from Li et al., 2017
    variables:
      pr: &gridded_cmip6_r1i1p1_amon_t2ms
        preprocessor: tropical
        project: CMIP6
        ensemble: r1i1p1f1
        mip: Amon
        field: T2Ms
      ua: &gridded_cmip6_r1i1p1_amon_t3m_pp850
        preprocessor: pp850
        project: CMIP6
        ensemble: r1i1p1f1
        mip: Amon
        field: T3M
      va:
        <<: *gridded_cmip6_r1i1p1_amon_t3m_pp850
      ts: &global_mean_cmip6_r1i1p1_amon_t2ms
        preprocessor: glob
        project: CMIP6
        ensemble: r1i1p1f1
        mip: Amon
        field: T2Ms
    additional_datasets:
      - {dataset: ACCESS-ESM1-5, institute: CSIRO, exp: historical, grid: gn, start_year: 1980, end_year: 2009}
      - {dataset: ACCESS-ESM1-5, institute: CSIRO, exp: ssp585, grid: gn, start_year: 2070, end_year: 2099}

      - {dataset: BCC-CSM2-MR, institute: BCC, exp: historical, grid: gn, start_year: 1980, end_year: 2009}
      - {dataset: BCC-CSM2-MR, institute: BCC, exp: ssp585, grid: gn, start_year: 2070, end_year: 2099}

      - {dataset: CanESM5, institute: CCCma, exp: historical, grid: gn, start_year: 1980, end_year: 2009}
      - {dataset: CanESM5, institute: CCCma, exp: ssp585, grid: gn, start_year: 2070, end_year: 2099}

      - {dataset: IPSL-CM6A-LR, institute: IPSL, exp: historical, grid: gr, start_year: 1980, end_year: 2009}
      - {dataset: IPSL-CM6A-LR, institute: IPSL, exp: ssp585, grid: gr, start_year: 2070, end_year: 2099}

      - {dataset: MIROC6, institute: MIROC, exp: historical, grid: gn, start_year: 1980, end_year: 2009}
      - {dataset: MIROC6, institute: MIROC, exp: ssp585, grid: gn, start_year: 2070, end_year: 2099}

      - {dataset: MRI-ESM2-0, institute: MRI, exp: historical, grid: gn, start_year: 1980, end_year: 2009}
      - {dataset: MRI-ESM2-0, institute: MRI, exp: ssp585, grid: gn, start_year: 2070, end_year: 2099}

    scripts:
      lif1f2:
        script: emergent_constraints/lif1f2.py
        output_name: 'lif1f2'
