documentation:
  description: |
    Recipe to evaluate the negative ice growth-ice thickness feedback

  authors:
    - mass_fr

  references:
    - gleckler08jgr

  projects:
    - applicate

datasets:
  - &cmip5 {project: CMIP5, exp: historical, dataset: ACCESS1-0,  ensemble: r1i1p1, start_year: 1979, end_year: 2004}
  - {<<: *cmip5, dataset: ACCESS1-3}
  - {<<: *cmip5, dataset: bcc-csm1-1}
  - {<<: *cmip5, dataset: BNU-ESM}
  - {<<: *cmip5, dataset: CCSM4}
  - {<<: *cmip5, dataset: CESM1-BGC}
  - {<<: *cmip5, dataset: CESM1-CAM5}
  - {<<: *cmip5, dataset: CESM1-FASTCHEM}
  - {<<: *cmip5, dataset: CESM1-WACCM}
  - {<<: *cmip5, dataset: CMCC-CESM}
  - {<<: *cmip5, dataset: CMCC-CM}
  - {<<: *cmip5, dataset: CMCC-CMS}
  - {<<: *cmip5, dataset: CNRM-CM5}
  - {<<: *cmip5, dataset: CNRM-CM5-2}
  - {<<: *cmip5, dataset: FGOALS-g2}
  - {<<: *cmip5, dataset: GFDL-CM2p1}
  - {<<: *cmip5, dataset: GFDL-CM3}
  - {<<: *cmip5, dataset: GFDL-ESM2G}
  - {<<: *cmip5, dataset: GFDL-ESM2M}
  - {<<: *cmip5, dataset: HadCM3}
  - {<<: *cmip5, dataset: HadGEM2-CC}
  - {<<: *cmip5, dataset: HadGEM2-ES}
  - {<<: *cmip5, dataset: IPSL-CM5A-LR}
  - {<<: *cmip5, dataset: IPSL-CM5A-MR}
  - {<<: *cmip5, dataset: IPSL-CM5B-LR}
  - {<<: *cmip5, dataset: MPI-ESM-LR}
  - {<<: *cmip5, dataset: MPI-ESM-MR}
  - {<<: *cmip5, dataset: MPI-ESM-P}
  - {<<: *cmip5, dataset: NorESM1-M}
  - {<<: *cmip5, dataset: NorESM1-ME}

  # Problems with areacello
  # - {<<: *cmip5, dataset: bcc-csm1-1-m}
  # - {<<: *cmip5, dataset: CanCM4}
  # - {<<: *cmip5, dataset: CanESM2}
  # - {<<: *cmip5, dataset: CESM1-CAM5-1-FV2}
  # - {<<: *cmip5, dataset: CSIRO-Mk3-6-0}
  # - {<<: *cmip5, dataset: EC-EARTH}
  # - {<<: *cmip5, dataset: FIO-ESM}
  # - {<<: *cmip5, dataset: GISS-E2-H, ensemble: r1i1p2}
  # - {<<: *cmip5, dataset: GISS-E2-H-CC}
  # - {<<: *cmip5, dataset: GISS-E2-R, ensemble: r1i1p2}
  # - {<<: *cmip5, dataset: GISS-E2-R-CC}
  # - {<<: *cmip5, dataset: HadGEM2-AO}
  # - {<<: *cmip5, dataset: inmcm4}

diagnostics:
  NegativeSeaIceFeedback:
    description: Computes the negative seaice feedback
    variables:
      sit:
        mip: OImon
        fx_files: [areacello]
    scripts:
      negative_seaice_feedback:
        script: seaice_feedback/negative_seaice_feedback.py
        plot:
          point_color: black
          point_size: 10
          show_values: True


  # SeaIceEdge:
  #   description: Plots the sea-ice edge
  #   variables:
  #     sic:
  #       mip: OImon
  #   scripts:
  #     sea_ice_edge:
  #       script: seaice_edge/sea_ice_edge.r
  #       concentration_treshold: 15
  #       plot_all_years: True
  #       plot_climatology: True
